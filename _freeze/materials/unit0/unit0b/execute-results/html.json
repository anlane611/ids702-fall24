{
  "hash": "5591277fe62da4cd49f12c3a27e90d27",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Cleaning and exploring data in R\nformat: html\nengine: knitr\nwebr: \n  show-startup-message: false\n  show-header-message: false\n  home-dir: '/home/r-user/'\n  packages: ['ggplot2', 'dplyr']\nfilters:\n  - webr\nexecute:\n  freeze: auto\n---\n\n\n\n\nA crucial first step of data analysis is exploring the dataset (and then cleaning, as needed). Today, we will practice exploring and cleaning data in R.\n\n### Learning objectives\n\nBy the end of this session, students should be able to:\n\n-   distinguish between the different types of variables\n\n-   use the tidyverse functions to explore and clean data in R\n\n-   use ggplot2 to visualize data\n\nNote: If you are comfortable with \"base R,\" you can use that for data cleaning and exploration this semester. However, I encourage you to learn the tidyverse functions!\n\n## Types of variables in our data\n\nNumeric variables take numerical values and it makes sense to perform calculations on the values (e.g., addition, mean)\n\n-   Discrete variables can not take decimal values (e.g., Number of required statistics courses in a major)\n\n-   Continuous variables can take decimal values (e.g., height in cm)\n\nCategorical variables are variables that have categories, where each category is called a level\n\n-   Nominal variables do not have an order (e.g., eye color)\n\n-   Ordinal variables do have an order (e.g., education categories)\n\n## Types of variables in R\n\n-   Numeric/double: a number that can take decimal values\n\n-   Integer: a number that takes integer values\n\n-   Character: a string (denoted by quotes)\n\n-   Logical: TRUE/FALSE\n\n### Survey\n\nFirst, [complete this survey](https://forms.gle/25gMMLaWp6QDuPxj7). We'll use this as our dataset for some practice exercises.\n\n### Exercise\n\nIn your group, discuss the following:\n\n1.  Classify each of the survey questions as discrete, continuous, nominal, or ordinal.\n2.  Can you identify how each variable will be stored in R before you read in the data?\n3.  What does it mean to explore data?\n4.  What does it mean to clean data? Identify how the survey data may need to be cleaned just by looking at the questions.\n\n## First steps in R\n\nHopefully you have already installed R/RStudio on your computer. If so, you can copy and paste the code below into your own script. If you haven't yet installed R/RStudio, you can run code directly from this page.\n\n```{webr-r}\nwebr::install(\"tidyverse\") #you don't need this if running R locally\nlibrary(tidyverse)\n```\n\n```{webr-r}\nsurvey <- read.csv(\"https://raw.githubusercontent.com/anlane611/datasets/main/IDS702Bootcampsurvey2024.csv\", header=TRUE)\nglimpse(survey)\n```\n\nLet's remove the timestamp variable\n\n```{webr-r}\nsurvey_sub <- survey |> \n              select(-c(\"Timestamp\"))\n```\n\nLet's make our variable names more concise (but still descriptive!)\n\n```{webr-r}\nnames(survey_sub) <- c()\n```\n\n## Cleaning and exploring variables\n\n### Siblings (changing a particular value)\n\nLet's start with the Siblings variable. What information do we need to know to clean the variable?\n\n```{webr-r}\nsurvey_sub |> count(Siblings)\n```\n\nAlways always always:\n\n-   create a new variable instead of overwriting the original\n\n-   perform a quality control check\n\n```{webr-r}\nsurvey_sub |> count(Siblings)\n\nsurvey_sub <- survey_sub |> #use the assignment <- since we're creating a var\n              mutate(Siblings_clean = case_when(\n                      Siblings== ~ ,\n                      TRUE ~ as.numeric(Siblings)\n                      ))\n\n## How can we do a quality control check?\n\n```\n\n### Languages (Creating categories)\n\n```{webr-r}\nsurvey_sub |> \n```\n\nOften, we need to combine categories if we have too few observations in multiple categories. Let's say we want to create a new numeric variable that collapses the Languages variable into 3 categories using the following values:\n\n0: 0 siblings\n\n1: 1-3 siblings\n\n2: 4 or more siblings\n\n```{webr-r}\nsurvey_sub <- survey_sub |>\n  mutate(Lang_cat = case_when(\n    Languages == ~ ,\n    Languages < ~ ,\n    TRUE ~ \n  ))\n\n\n## How can we perform a quality control check in this case? Use the code below as a hint and replace the blanks\n\nsurvey_sub |> \n  group_by(________) |> #this will group your output by a (categorical) variable\n  summarise(min(________), max(________))\n```\n\n## \n\n### Sushi (outliers/implausible values)\n\nNow consider the sushi variable.\n\n```{webr-r}\nsurvey_sub |> \n```\n\nIt's important to pay attention to implausible values. What would be an implausible value in this case? How should we handle it?\n\n```{webr-r}\n\n```\n\n## Exercises\n\nIn your group, complete the following (*one of these is an impossible task! Can you identify which one?*):\n\n1.  For the application area of interest variable, how many students responded with \"other\"? What does this say about the survey design?\n2.  What proportion of the class plays an instrument?\n3.  Convert the Age variable to a continuous variable so that we have more information about specific ages.\n4.  Create a stacked histogram of the Sushi variable for those who would like to live on the beach vs those who would like to live in a cabin in the woods. Change the color of the bars to a new color of your choice. Add a descriptive title and axis labels.\n5.  How can we visualize the relationship between application area of interest and course excitement?\n6.  Create a new variable called \"Excitement_num\" that stores only the numeric value of the Excitement variable (e.g., 1 instead of \"1 (I am dreading this)\"). Instead of typing out each answer choice, use the \"substr\" and \"as.numeric\" functions. You can learn how the substr function works by typing `?substr` in the console.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}